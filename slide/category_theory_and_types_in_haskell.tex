\documentclass[pdflatex,ja=standard]{beamer}
\usepackage{amsmath, amssymb, amsthm, amscd}
\usepackage[all]{xy}

\usepackage[whole]{bxcjkjatype}

\usepackage{beamerthemeshadow}
\usefonttheme{professionalfonts}

\usepackage{inconsolata}
\usepackage{verbatim}
\usepackage{hyperref}

\newcommand{\code}[1]{\texttt{#1}}

\newcommand{\mathint}[0]{\mathbb{Z}}

\title{圏とHaskellの型}
\author{Kinebuchi Tomohiko}
\date{\today}

\begin{document}
\frame{\titlepage}

%% メモより
% ・下準備
% ・・[プ] 圏論とは
% ・・・ref. Awodey
% ・・・TODO: Awodey読んでおく
% ・・[数] プログラムの型とは
% ・・・型の嬉しさ ref. TAPL
% ・主題
% ・・[プ] [数] 型、関数とHask圏の対応
% ・・・[プ] 具体例: double
% ・・函手
% ・・・[プ] HaskellのFunctor
% ・・・[数] 圏の函手
% ・・・[プ] [数] 両者の類似、Functor則と函手の公理
% ・・モノイダル圏
% ・・・[プ] モノイドとは
% ・・・[プ] モノイドの例、文字列、リスト
% ・・・[数] モノイドの定義
% ・・・[プ] [数] モノイダル圏の定義
% ・・モノイダル函手
% ・・Applicative函手


% 話す内容

\frame{
  \frametitle{目次}
  \begin{itemize}
  \item 想定聴者
  \item 下準備
    \begin{itemize}
    \item スライドの表記について
    \item 圏論とは
    \item プログラムの型とは
    \end{itemize}
  \item Haskellの型を圏として見る
    \begin{itemize}
    \item Hask圏
    \item Functor
    \item Applicative Functor
    \end{itemize}
  \item 参考文献
  \item 宣伝
    \begin{itemize}
    \item 数学茶屋
    \end{itemize}
  \end{itemize}
}

% 想定聴者

\frame{
  \frametitle{想定聴者}
  \begin{itemize}
  \item プログラムの型は分かるが圏論を知らない人
  \item 圏論は知っているがプログラム (の型) を知らない人
  \end{itemize}
  → プログラムの型が圏論を通してどう見えるかを解説していきます.
}

\frame{
  \frametitle{話すこと}
  \begin{itemize}
  \item Haskellの型の仕組み \\
    型全体がある圏と見えること % undefined はややこしいので無視
    \begin{tabular}{l|l}
      \hline
      Haskellの型 & 圏論の概念 \\
      \hline \hline
      型 & 対象 \\
      関数 & 射 \\
      Functor & 関手 \\
      Monoid & モノイダル圏 \\
      Applicative & モノイダル圏の一種 \\
      \hline
    \end{tabular}
  \end{itemize}
}

\frame{
  \frametitle{話さないこと}
  \begin{itemize}
  \item 圏論一般の説明 \\
    前の発表を参照してください
  \item Haskellの文法
  \item Haskellの良いプログラミング
  \end{itemize}
}

\frame{
  \frametitle{下準備 - スライドの表記について}
  スライドのタイトルに目印を付け,
  どちらの想定聴者に向けたスライドなのかを表します.
  \begin{itemize}
  \item プログラムの型は分かるが圏論を知らない人 \\
    → [プ]
  \item 圏論は知っているがプログラム (の型) を知らない人 \\
    → [圏]
  \end{itemize}
}

% Hask圏

\frame{
  \frametitle{[プ][圏] Haskellの型がなす圏 (Hask圏)}
  \begin{itemize}
  \item 対象: 型
  \item 射: 一変数関数
    \begin{itemize}
    \item 恒等射: \code{id}関数 (引数をそのまま返す関数)
    \item 射の合成: 関数の合成
    \end{itemize}
  \end{itemize}
  関数$f$の変数の型が$A$, 返り値の型が$B$のとき, $f$は$A$から$B$への射となる.
}

\frame{
  \frametitle{[プ][圏] 例. Hask圏の対象}
  \begin{itemize}
  \item Integer: 整数の型
  \end{itemize}
}

\frame{
  \frametitle{[プ][圏] 例. Hask圏の射}
  なんだか見た目が似ている.
  \begin{itemize}
  \item Haskellの関数\code{double} \\
    \verbatiminput{../code/double.hs}
  \item 数学の関数$double$ \\
    $double: \mathint \to \mathint$ \\
    $double(x) = 2x$
  \end{itemize}
}

\frame{
  \frametitle{[プ][圏] Haskellの型が圏をなすことの説明}
  \begin{itemize}
  \item 恒等射の存在: \code{id: a -> a} (\code{a}は任意の型)
  \item 射の合成: Haskellの意味での関数の合成, \code{f . g}
  \end{itemize}
}

%% idのついでに同型な対象の話もする? 例は何だろ? (正直あまり思い浮かばない, Evenを作っておくくらいかな?)

\frame{
  \frametitle{}
  \begin{itemize}
  \item
  \end{itemize}
}

\frame{
  \frametitle{}
  \begin{itemize}
  \item
  \end{itemize}
}



% Functor

%% 図式を図式にうつすもの (星座で書く?)

\frame{
  \frametitle{}
  \begin{itemize}
  \item
  \end{itemize}
}

\frame{
  \frametitle{}
  \begin{itemize}
  \item
  \end{itemize}
}

\frame{
  \frametitle{}
  \begin{itemize}
  \item
  \end{itemize}
}

% Monoidal Functor

\frame{
  \frametitle{[圏] モノイダル圏}
  \begin{itemize}
  \item
  \end{itemize}
}


\frame{
  \frametitle{[圏] コヒーレンス条件}
  \begin{itemize}
  \item
  \end{itemize}
}

\frame{
  \frametitle{[圏] コヒーレンス条件の必要性}
  \begin{itemize}
  \item
  \end{itemize}
}

\frame{
  \frametitle{}
  \begin{itemize}
  \item
  \end{itemize}
}

\frame{
  \frametitle{[圏] モノイド}
  モノイダル圏はモノイドに類似した圏
  \begin{definition}[モノイド]

  \end{definition}
  \begin{itemize}
  \item
  \end{itemize}
}

\frame{
  \frametitle{[圏] モノイダル関手 (monoidal functor)}
  モノイドの準同型
  \begin{itemize}
  \item
  \end{itemize}
}

\frame{
  \frametitle{[プ] HaskellのMonoid}
  \verbatiminput{../code/monoid.hs}
  \url{https://hackage.haskell.org/package/base-4.9.0.0/docs/src/GHC.Base.html\#Monoid}
}

\frame{
  \frametitle{[プ] Haskellのモノイド則 (Monoid law?)}
  \begin{itemize}
  \item
  \end{itemize}
}

\frame{
  \frametitle{}
  \begin{itemize}
  \item
  \end{itemize}
}

% Applicative Functor

\frame{
  \frametitle{[圏] アプリカティブ関手 (applicative functor)}
  applicative関手はmonoidal関手の変種
  \begin{itemize}
  \item
  \end{itemize}
}

\frame{
  \frametitle{[プ] HaskellのApplicative Functor}
  \verbatiminput{../code/applicative.hs}
  \url{https://hackage.haskell.org/package/base-4.9.0.0/docs/src/GHC.Base.html\#Applicative} % BibTeX化
}

\frame{
  \frametitle{[プ] HaskellのApplicative則 (Applicative law)}
  \begin{itemize}
  \item
  \end{itemize}
}

\frame{
  \frametitle{}
  \begin{itemize}
  \item
  \end{itemize}
}


% 参考文献

\frame{
  \frametitle{参考文献}
  
}

% 宣伝

\frame{
  \frametitle{数学茶屋}
  \begin{itemize}
  \item
  \end{itemize}
}

\frame{
  \frametitle{グッド・マス?}
  \begin{itemize}
  \item
  \end{itemize}
}



% おしまい

\frame{
  \frametitle{[プ][圏] おしまい}
  % 圏と型の対応を再掲
  Hask圏 (再掲)
}

\end{document}
